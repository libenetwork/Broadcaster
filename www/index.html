<!doctype html>
<html>
 <head>
   <meta charset="utf-8">
     <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js'></script>
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
     <link rel = "stylesheet" href="css/style.css">
     <script src = "js/media.js"></script>

     <title>Broadcaster Panel</title>
 </head>
 <style>

 </style>
 <body onunload="abort()">
 <div style="height: 70vh; background: grey;">
     <video id="video" autoplay playsinline muted style="
height: 70vh;
"></video>
 </div>
 <div style="width:80%;margin: auto;padding-top:10px ;">
     <button class="btn btn-secondary" onclick="window.open('./video.html');startCapture()"> Start Screen Sharing</button>
     <button class="btn btn-secondary" id="stop"> Stop</button>
 </div>
<a href="#" onclick="youtube_authorise()">Ввійти через Youtube</a>
 <div class = "test"></div>

     <nav>
     <button class="btn btn-secondary" data-action="goLive">Go Live</button>
       <input type="text" id = "url" placeholder="Broadcast URL">
       <input type="text" id = "key" placeholder="Broadcast Key">
   </nav>

 <div class="dropdown microdevice">
     <button class="btn btn-secondary dropdown-toggle microphone" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
         Додати пристрій</button>
     <div class="dropdown-menu microphone" aria-labelledby="dropdownMenuButton">
     </div>
     <button class="btn btn-secondary" data-action="add_source" onclick="add_source()">Додати</button>
     <button class="btn btn-secondary" data-action="add_source" onclick="remove_source()">Прибрати</button>

 </div>
<table class = "sources">
</table>
<!-- <div class="bar">
     <div class="indicator" id="indicator"></div>
 </div>-->
 <p id =  "token"></p>
 <p id = "live">offline</p>
 <div class = "videotest"></div>
 <script src = "js/communicator.js"></script>
 <script src = "js/coockie.js"></script>
 <script type="module" src="https://cdn.jsdelivr.net/npm/@gradio/client@0.1.4/dist/index.min.js"></script>
 <script src = "js/audio.js"></script>
 <script src="js/donate.js"></script>
 <script src="js/generate.js" type="module"></script>
 <script src = "js/sources.js"></script>
 <script src = "js/grab.js"></script>
  <script>

      function choose(variant){
            let text = document.getElementsByClassName("microphone")[0];
            let elem = document.getElementsByClassName("microdevice")[0].getElementsByClassName("dropdown-item")[variant];
            text.innerText = elem.innerText;
        }
      window.localStorage.setItem("status", "offline");

  </script>
 <script type="module" src="js/live.js"></script>
 </body>
</html>
